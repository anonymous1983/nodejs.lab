<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Participez à notre Jeu Battle et gagnez plein de cadeaux</title>
<link href="/stylesheets/reset.css" rel="stylesheet" type="text/css" media="all" />
<link href="/stylesheets/layout.css" rel="stylesheet" type="text/css" media="all" />
<link href="/stylesheets/font.css" rel="stylesheet" type="text/css" media="all" />
<link href="/stylesheets/sprites.css" rel="stylesheet" type="text/css" media="all" />
<link href="/stylesheets/form.css" rel="stylesheet" type="text/css" media="all" />
<link href="/stylesheets/global.css" rel="stylesheet" type="text/css" media="all" />
<link href="/plugins/vegas/jquery.vegas.css" rel="stylesheet" type="text/css" media="all" />
<link href="/plugins/keyboard/css/keyboard.css" rel="stylesheet" type="text/css" media="all" />
<link href="/plugins/slick-quiz/css/slickQuiz.css" media="screen" rel="stylesheet" type="text/css">
<link href="/stylesheets/tunisiana.css" rel="stylesheet" type="text/css" media="all" />
<link href="/stylesheets/style.css" rel="stylesheet" type="text/css" media="all" />
<script src="/plugins/modernizr/modernizr.custom.js"></script>
<script src="/plugins/respond/respond.js"></script>
</head>

<body class="tunisiana bg-tunisiana-s2">
<div id="tk-content" class="tk-content">
  <div id="frame-1" class="frame frame-1 next-frame" data-frame="1">
    <ul id="menu-vegaz">
      <li><a href="/background-1.png" data-valign="top"><img src="/thumbnail-1.jpg"></a></li>
      <li><a href="/background-2.png" data-valign="top"><img src="/thumbnail-2.jpg"></a></li>
      <li><a href="/background-3.png" data-valign="top"><img src="/thumbnail-1.jpg"></a></li>
      <li><a href="/background-1.png" data-valign="top"><img src="/thumbnail-1.jpg"></a></li>
      <li><a href="/background-2.png" data-valign="top"><img src="/thumbnail-2.jpg"></a></li>
      <li><a href="/background-3.png" data-valign="top"><img src="/thumbnail-1.jpg"></a></li>
      <li><a href="/background-1.png" id="slideshow"><span id="pause"></span><img id="thumbnail" src="/slideshow.gif"></a></li>
    </ul>
  </div>
  <div id="frame-2" class="frame frame-2 bg-tunisiana bg-slogan next-frame" data-frame="2"> 
    <!--<div class="frame-header tk-header">
      <div class="logo-ooredoo"></div>
      <div class="logo-tunisiana"></div>

    </div>-->
    <div class="frame-body tk-body bg-slogan">
      <div class="table_wrap allheight">
        <div class="cell_wrap middle">
          <div class="slogan"> 
            <!--<h1 class="text-s1">Participez à notre Jeu<br>
             Battle<br>
              et gagnez plein de cadeaux</h1>--> 
          </div>
        </div>
      </div>
    </div>
    <!--<div class="frame-header footer tk-header">
      <div class="logo-ooredoo"></div>
      <div class="logo-tunisiana"></div>
    </div>--> 
  </div>
  <div id="frame-3" class="frame frame-3 bg-tunisiana next-frame" data-frame="3">
    <div class="frame-header tk-header"> 
      <!--<div class="logo-ooredoo"></div>-->
      <div class="logo-tunisiana"></div>
    </div>
    <div class="frame-body tk-body bg-slogan">
      <div class="table_wrap allheight">
        <div class="cell_wrap middle">
          <div class="slogan">
            <h1 class="text-s1">Règles du Jeu :</h1>
            <h1 class="text-s2 lh70">Essayez de remettre dans le bon ordre les lettres du nom du groupe auquel Tunisiana appartient</h1>
          </div>
        </div>
      </div>
    </div>
    <!--<div class="frame-header footer tk-header">
      <div class="logo-ooredoo"></div>
      <div class="logo-tunisiana"></div>
    </div>--> 
  </div>
  <div id="frame-4" class="frame frame-4 bg-tunisiana-s2 header-in-top" data-frame="4">
    <div class="frame-header tk-header">
      <div class="logo-ooredoo"></div>
      <div class="logo-tunisiana"></div>
    </div>
    <div class="frame-body tk-body">
      <div class="table_wrap allheight">
        <div class="cell_wrap middle">
          <h1 class="text-s4 color-c1"> Saisissez les infos et jouez</h1>
          <div class="container">
            <form class="cmxform" id="signupForm" method="post" action="">
              <div class="container_6">
                <div class="grid_2">
                  <div class="box">
                    <label for="input_name">Nom :</label>
                    <input type="text" name="input_name" id="input_name">
                  </div>
                </div>
                <div class="grid_2">
                  <div class="box">
                    <label for="input_lastname">Prénom :</label>
                    <input type="text" name="input_lastname" id="input_lastname">
                  </div>
                </div>
                <div class="grid_2">
                  <div class="box">
                    <label for="input_phone">Tél :</label>
                    <input type="text" name="input_phone" id="input_phone">
                  </div>
                </div>
              </div>
            </form>
            <div class="container_6">
              <div class="box">
                <ul id="keyboard">
                  <li class="symbol"><span class="off">`</span><span class="on">~</span></li>
                  <li class="symbol"><span class="off">1</span><span class="on">!</span></li>
                  <li class="symbol"><span class="off">2</span><span class="on">@</span></li>
                  <li class="symbol"><span class="off">3</span><span class="on">#</span></li>
                  <li class="symbol"><span class="off">4</span><span class="on">$</span></li>
                  <li class="symbol"><span class="off">5</span><span class="on">%</span></li>
                  <li class="symbol"><span class="off">6</span><span class="on">^</span></li>
                  <li class="symbol"><span class="off">7</span><span class="on">&amp;</span></li>
                  <li class="symbol"><span class="off">8</span><span class="on">*</span></li>
                  <li class="symbol"><span class="off">9</span><span class="on">(</span></li>
                  <li class="symbol"><span class="off">0</span><span class="on">)</span></li>
                  <li class="symbol"><span class="off">-</span><span class="on">_</span></li>
                  <li class="symbol"><span class="off">=</span><span class="on">+</span></li>
                  <li class="delete lastitem">delete</li>
                  <li class="tab">tab</li>
                  <li class="letter">q</li>
                  <li class="letter">w</li>
                  <li class="letter">e</li>
                  <li class="letter">r</li>
                  <li class="letter">t</li>
                  <li class="letter">y</li>
                  <li class="letter">u</li>
                  <li class="letter">i</li>
                  <li class="letter">o</li>
                  <li class="letter">p</li>
                  <li class="symbol"><span class="off">[</span><span class="on">{</span></li>
                  <li class="symbol"><span class="off">]</span><span class="on">}</span></li>
                  <li class="symbol lastitem"><span class="off">\</span><span class="on">|</span></li>
                  <li class="capslock">caps lock</li>
                  <li class="letter">a</li>
                  <li class="letter">s</li>
                  <li class="letter">d</li>
                  <li class="letter">f</li>
                  <li class="letter">g</li>
                  <li class="letter">h</li>
                  <li class="letter">j</li>
                  <li class="letter">k</li>
                  <li class="letter">l</li>
                  <li class="symbol"><span class="off">;</span><span class="on">:</span></li>
                  <li class="symbol"><span class="off">'</span><span class="on">&quot;</span></li>
                  <li class="return lastitem">return</li>
                  <li class="left-shift">shift</li>
                  <li class="letter">z</li>
                  <li class="letter">x</li>
                  <li class="letter">c</li>
                  <li class="letter">v</li>
                  <li class="letter">b</li>
                  <li class="letter">n</li>
                  <li class="letter">m</li>
                  <li class="symbol"><span class="off">,</span><span class="on">&lt;</span></li>
                  <li class="symbol"><span class="off">.</span><span class="on">&gt;</span></li>
                  <li class="symbol"><span class="off">/</span><span class="on">?</span></li>
                  <li class="right-shift lastitem">shift</li>
                  <li class="space lastitem">&nbsp;</li>
                </ul>
              </div>
            </div>
            <div class="container_6">
              <div class="grid_2 suffix_2 prefix_2"> <a class="btn w100 float-left btn-reset">ANNULER</a> <a class="btn w100 float-right btn-submit next-frame">VALIDER</a> </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="frame-5" class="frame frame-5 bg-tunisiana-s2 header-in-top frame-sucess" data-frame="5">
    <div class="frame-header tk-header">
      <div class="logo-ooredoo"></div>
      <div class="logo-tunisiana"></div>
    </div>
    <div class="frame-body tk-body">
      <div class="table_wrap allheight">
        <div class="cell_wrap middle">
          <div class="container">
            <div class="container_6">
              <div class="grid_6">
                <div class="box">
                  <div class="quizResults" style="display: block;">
                    <h3 class="quizScore">vous avez marqué : <span>0 / 1</span></h3>
                    <h3 class="quizLevel level4"><span>
                      <div class="res" style="background-image:url(/images/iconmonstr-christmas-gift-2-icon.svg)"><span class="txt">Bravo !</span> Vous avez gagné une Recharge de <span class="txt">2 DT.</span></div>
                      </span></h3>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="frame-6" class="frame frame-6 bg-tunisiana-s2 header-in-top frame-failed" data-frame="6">
    <div class="frame-header tk-header">
      <div class="logo-ooredoo"></div>
      <div class="logo-tunisiana"></div>
    </div>
    <div class="frame-body tk-body">
      <div class="table_wrap allheight">
        <div class="cell_wrap middle">
          <div class="container">
            <div class="container_6">
              <div class="grid_6">
                <div class="box">
                  <div class="quizResults" style="display: block;">
                    <h3 class="quizScore">vous avez marqué : <span>0 / 1</span></h3>
                    <h3 class="quizLevel level4"><span>
                      <div class="res" style="background-image:url(/images/iconmonstr-smiley-sad-2-icon.svg)">Merci pour votre participation. <span class="txt">A la prochaine!</span></div>
                      </span></h3>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <section id="zone_chat"> </section>
</div>
<script src="/socket.io/socket.io.js"></script> 
<script type="text/javascript" src="/javascripts/jquery/jquery.min.js"></script> 
<script type="text/javascript" src="/javascripts/jquery/jquery-ui-1.9.2.custom.min.js"></script> 
<script type="text/javascript" src="/javascripts/jquery/jquery.ui.touch-punch.js"></script> 
<script type="text/javascript" src="/javascripts/jquery/jquery.placeholder.js"></script> 
<script type="text/javascript" src="/javascripts/jquery/jquery.browser.js"></script> 
<script type="text/javascript" src="/javascripts/jquery/jquery.hoverIntent.js"></script> 
<script type="text/javascript" src="/plugins/validation/dist/jquery.validate.js"></script> 
<script type="text/javascript" src="/plugins/vegas/jquery.vegas.js"></script> 
<script type="text/javascript" src="/plugins/keyboard/js/keyboard.js"></script> 
<script type="text/javascript" src="/plugins/slick-quiz/js/slickQuiz-config.js"></script> 
<script type="text/javascript" src="/plugins/slick-quiz/js/slickQuiz.js"></script> 
<script type="text/javascript" src="/javascripts/tunisiana/background.js"></script> 
<script type="text/javascript" src="/javascripts/script.js"></script> 
<script>
            // Connexion à socket.io
            var socket = io.connect('http://localhost:8080');

            function nouveau_client(nom){
                // On demande le pseudo, on l'envoie au serveur et on l'affiche dans le titre
                var pseudo = nom;
                socket.emit('nouveau_client_a', pseudo);
                document.title = pseudo + ' - ' + document.title;
            }

            // Quand on reçoit un message, on l'insère dans la page
            socket.on('message_a', function(data) {
                insereMessage(data.pseudo, data.message)
            })

            // Quand un nouveau client se connecte, on affiche l'information
            socket.on('nouveau_client_b', function(pseudo) {
                $('#zone_chat').prepend('<p><em>' + pseudo + ' a rejoint le Chat !</em></p>');
            })

            // Lorsqu'on envoie le formulaire, on transmet le message et on l'affiche sur la page
            $('#formulaire_chat').submit(function () {
                var message = $('#message').val();
                socket.emit('message_a', message); // Transmet le message aux autres
                insereMessage(pseudo, message); // Affiche le message aussi sur notre page
                $('#message').val('').focus(); // Vide la zone de Chat et remet le focus dessus
                return false; // Permet de bloquer l'envoi "classique" du formulaire
            });

            // Ajoute un message dans la page
            function insereMessage(pseudo, message) {
                $('#zone_chat').prepend('<p><strong>' + pseudo + '</strong> ' + message + '</p>');
            }

        </script> 
<script>

 var correctCards = 0;
$( init );

function init() {

  // Hide the success message
  $('#successMessage').hide();
  $('#successMessage').css( {
    left: '580px',
    top: '250px',
    width: 0,
    height: 0
  } );

  // Reset the game
  correctCards = 0;
  $('#cardPile').html( '' );
  $('#cardSlots').html( '' );

  // Create the pile of shuffled cards
  var numbers = [ 1, 2, 3, 4, 5, 6, 7 ];
  numbers.sort( function() { return Math.random() - .5 } );
    var $start_counter = $( "#event-start" ),
      $drag_counter = $( "#event-drag" ),
      $stop_counter = $( "#event-stop" ),
      $elemt_counter = $( "#event-elemt" ),
      counts = [ 0, 0, 0 ];
  for ( var i=0; i<7; i++ ) {
    $('<div>' + numbers[i] + '</div>').data( 'number', numbers[i] ).attr( 'class', 'card-'+numbers[i] ).attr( 'id', 'card'+numbers[i] ).appendTo( '#cardPile' ).draggable( {
      containment: '#content',
      stack: '#cardPile div',
      cursor: 'move',
      revert: true,
	  grid: tunisiana.grid,
      start: function() {
        $this = $(this);
        updateLog( $elemt_counter, $this );
      },
      drag: function() {
        counts[ 1 ]++;
        updateLogPos($(this));
      },
      stop: function() {
        counts[ 2 ]++;
        updateLogPos($(this));
      }
    } );
  }

  // Create the card slots
  var words = [ 'one', 'two', 'three', 'four', 'five', 'six', 'seven' ];
  for ( var i=1; i<=7; i++ ) {
    $('<div class="letter-'+i+'">' + words[i-1] + '</div>').data( 'number', i ).appendTo( '#cardSlots' ).droppable( {
      accept: '#cardPile div',
      hoverClass: 'hovered',
      drop: handleCardDrop
    } );
  }

}
function updateCounterStatus( $event_counter, new_count ) {
      // first update the status visually...
      if ( !$event_counter.hasClass( "ui-state-hover" ) ) {
        $event_counter.addClass( "ui-state-hover" )
          .siblings().removeClass( "ui-state-hover" );
      }
      // ...then update the numbers
      $( "span.count", $event_counter ).text( new_count );
    }

    function updateLog($event_counter, $this){
      $( "span.count", $event_counter ).text( $this.attr('id'));


    }
    function updateLogPos( $this){
    var position = $this.position();
    $("#event-elemt-position").text( "left: " + position.left +  ", top: "  + position.top );
	socket.emit('update_pos_a', $('#content').html()); // Transmet le message aux autres
    }

function handleCardDrop( event, ui ) {
  var slotNumber = $(this).data( 'number' );
  var cardNumber = ui.draggable.data( 'number' );

  // If the card was dropped to the correct slot,
  // change the card colour, position it directly
  // on top of the slot, and prevent it being dragged
  // again

  if ( (slotNumber == cardNumber) ) {
    ui.draggable.addClass( 'correct' );
    ui.draggable.draggable( 'disable' );
    $(this).droppable( 'disable' );
    ui.draggable.position( { of: $(this), my: 'left top', at: 'left top' } );
    ui.draggable.draggable( 'option', 'revert', false );
    correctCards++;
  }

  // If all the cards have been placed correctly then display a message
  // and reset the cards for another go

  if ( correctCards == 7 ) {
        nextFrame();
        socket.emit('client_b_win'); // Transmet le message aux autres
  }

}
</script>
</body>
</html>
